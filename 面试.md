## 1. Vue组件之间通信方式有哪些
vue是组件化开发框架，所以对于vue应用来说组件间的数据通信非常重要。 此题主要考查大家vue基本功，对于vue基础api运用熟练度。 另外一些边界知识如provide/inject/$attrs则提现了面试者的知识广度。

组件传参的各种方式
![image](imgs/%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%8F%82.png)

**思路分析：**
1. 总述知道的所有方式
2. 按组件关系阐述使用场景

**回答范例**
1. 组件通信常用方式有以下8种：
- props
- $emit/~~$on~~
- ~~$children~~/$parent
- $attrs/~~$listeners~~
- ref
- $root
- eventbus
- vuex
>注意vue3中废弃的几个API    
v3-migration.vuejs.org/breaking-ch…   
v3-migration.vuejs.org/breaking-ch…   
v3-migration.vuejs.org/breaking-ch…    

2. 根据组件之间关系讨论组件通信最为清晰有效
- 父子组件
  - ==props/$emit/$parent/ref/$attrs==
- 兄弟组件
  - ==$parent/$root/eventbus/vuex==
- 跨层级关系
  - ==eventbus/vuex/provide+inject==

## 2. v-if和v-for哪个优先级更高？
**思路分析**
1. 先给出结论
2. 为什么是这样的，说出细节
3. 哪些场景可能导致我们这样做，该怎么处理
4. 总结，拔高

**回答范例**
1. 实践中不应该把v-for和v-if放一起
2. 在**vue2中，v-for的优先级是高于v-if**，把它们放在一起，输出的渲染函数中可以看出会先执行循环再判断条件，哪怕我们只渲染列表中一小部分元素，也得在每次重渲染的时候遍历整个列表，这会比较浪费；另外需要注意的是在**vue3中则完全相反，v-if的优先级高于v-for**，所以v-if执行时，它调用的变量还不存在，就会导致异常
3. 通常有两种情况下导致我们这样做：
   - 为了过滤列表中的项目 (比如 ==v-for="user in users" v-if="user.isActive"==)。此时定义一个计算属性 (比如 ==activeUsers==)，让其返回过滤后的列表即可（比如==users.filter(u=>u.isActive)==）。
   - 为了避免渲染本应该被隐藏的列表 (比如 ==v-for="user in users" v-if="shouldShowUsers"==)。此时把 ==v-if== 移动至容器元素上 (比如 ==ul、ol==)或者外面包一层==template==即可。
4. 文档中明确指出永远不要把**v-if**和 **v-for**同时用在同一个元素上，显然这是一个重要的注意事项。

**源码中找答案**
> v2：github1s.com/vuejs/vue/b…      
> v3：github1s.com/vuejs/core/…

## 3. 双向绑定使用和原理
**思路分析：**
1. 给出双绑定义
2. 双绑带来的好处
3. 在哪使用双绑
4. 使用方式、使用细节、vue3变化
5. 原理实现描述

**回答范例**
1. vue中双向绑定是一个指令==v-model==，可以绑定一个响应式数据到视图，同时视图中变化能改变该值。
2. ==v-model==是语法糖，默认情况下相当于 ==:value== 和 ==@input==。使用 ==v-model== 可以减少大量繁琐的事件处理代码，提高开发效率。
3. 通常在表单项上使用 ==v-model==，还可以在自定义组件上使用，表示某个值的输入和输出控制。
4. 通过 ==<input v-model="xxx">== 的方式将xxx的值绑定到表单元素value上；对于checkbox，可以使用 ==true-value== 和false-value指定特殊的值，对于radio可以使用value指定特殊的值；对于select可以通过options元素的value设置特殊的值；还可以结合.lazy,.number,.trim对v-mode的行为做进一步限定；v-model用在自定义组件上时又会有很大不同，vue3中它类似于==sync==修饰符，最终展开的结果是modelValue属性和update:modelValue事件；vue3中我们甚至可以用参数形式指定多个不同的绑定，例如v-model:foo和v-model:bar，非常强大！
5. ==v-model==是一个指令，它的神奇魔法实际上是vue的编译器完成的。我做过测试，包含v-model的模板，转换为渲染函数之后，实际上还是是value属性的绑定以及input事件监听，事件回调函数中会做相应变量更新操作。编译器根据表单元素的不同会展开不同的DOM属性和事件对，比如text类型的input和textarea会展开为value和input事件；checkbox和radio类型的input会展开为checked和change事件；select用value作为属性，用change作为事件。

**可能的追问：**
1. ==v-model==和==sync==修饰符有什么区别
2. 自定义组件使用v-model如果想要改变事件名或者属性名应该怎么做
